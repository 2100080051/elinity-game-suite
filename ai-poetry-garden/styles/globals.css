@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html, body, #__next { height: 100%; }
  body { @apply bg-meadow-800 text-white; }
}

@layer components {
  .app-bg { @apply fixed inset-0 -z-10 bg-pixelGarden bg-no-repeat; background-size: pixel, pixel, cover; }
  .app-aurora { position: fixed; inset: -30% -10% auto -10%; height: 60vh; z-index: -9; pointer-events: none; filter: blur(28px) saturate(1.1) opacity(.55); background: radial-gradient(40% 60% at 20% 30%, rgba(134,239,172,.35), transparent 60%), radial-gradient(35% 45% at 75% 25%, rgba(236,72,153,.22), transparent 60%), radial-gradient(50% 60% at 50% 10%, rgba(59,130,246,.18), transparent 60%); animation: auroraMove 24s ease-in-out infinite alternate; mask-image: linear-gradient(to bottom, black, transparent 70%); }
  .app-fireflies { position: fixed; inset: 0; z-index: -8; pointer-events: none; background-image: radial-gradient(2px 2px at 20% 30%, rgba(234, 255, 210, .85), transparent 35%), radial-gradient(1.5px 1.5px at 60% 20%, rgba(247, 254, 231, .8), transparent 35%), radial-gradient(2px 2px at 80% 70%, rgba(255, 247, 237, .85), transparent 35%), radial-gradient(1.5px 1.5px at 35% 75%, rgba(231, 254, 255, .8), transparent 35%); animation: twinkle 6s ease-in-out infinite alternate; filter: drop-shadow(0 0 6px rgba(255,255,255,.35)); }

  .container { @apply mx-auto max-w-6xl px-6; }
  .header { @apply sticky top-0 z-40 backdrop-blur bg-meadow-900/60 border-b border-white/10; }
  .brand { @apply inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 border border-white/15 text-sm shadow-soft; }

  .pot { @apply relative rounded-xl bg-soil-600/80 border border-white/10 shadow-soft; }
  .pot-inner { @apply p-3; }
  .seed { @apply text-white/90 text-sm; }
  .sprout { @apply inline-flex items-center justify-center rounded-full bg-leaf-400/25 text-leaf-300 border border-leaf-400/30 px-2 py-0.5 text-xs; }

  .poem { @apply rounded-2xl bg-meadow-900/50 border border-white/10 shadow-soft; }
  .poem-inner { @apply p-4; font-family: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif; line-height: 1.7; }
  .caption { @apply text-white/70 text-sm; }

  .btn { @apply inline-flex items-center justify-center gap-2 rounded-xl px-4 py-2 font-semibold transition; }
  .btn-primary { @apply text-meadow-900 bg-gradient-to-r from-leaf-300 to-leaf-500 shadow-soft; box-shadow: 0 10px 24px rgba(34,197,94,.25), inset 0 1px 0 rgba(255,255,255,.25); }
  .btn-primary:hover { transform: translateY(-1px); box-shadow: 0 14px 28px rgba(34,197,94,.30), inset 0 1px 0 rgba(255,255,255,.3); }
  .btn-primary:active { transform: translateY(0); }
  .btn-secondary { @apply text-white/90 bg-white/10 border border-white/15; }
  .btn-secondary:hover { @apply bg-white/15; transform: translateY(-1px); }
  .btn-secondary:active { transform: translateY(0); }

  .archive { @apply rounded-2xl bg-meadow-900/50 border border-white/10; }
  .archive-item { @apply border-t border-white/10; }

  .poem { transition: transform .2s ease, box-shadow .2s ease; }
  .poem:hover { transform: translateY(-2px); box-shadow: 0 16px 36px rgba(0,0,0,.35); }
  .pot { transition: transform .2s ease, box-shadow .2s ease; }
  .pot:hover { transform: translateY(-2px); box-shadow: 0 16px 36px rgba(0,0,0,.35); }

  .label { @apply text-white/60 text-xs uppercase tracking-wider; }
}

@keyframes auroraMove {
  0% { transform: translateX(-6%) translateY(0) rotate(-1deg); }
  50% { transform: translateX(4%) translateY(1%) rotate(1deg); }
  100% { transform: translateX(8%) translateY(-1%) rotate(-1deg); }
}

@keyframes twinkle {
  0% { opacity: .35; filter: drop-shadow(0 0 4px rgba(255,255,255,.2)); }
  50% { opacity: .8; filter: drop-shadow(0 0 10px rgba(255,255,255,.35)); }
  100% { opacity: .5; filter: drop-shadow(0 0 6px rgba(255,255,255,.25)); }
}
