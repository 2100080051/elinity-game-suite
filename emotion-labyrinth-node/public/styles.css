:root { color-scheme: dark; }
*{ box-sizing: border-box; }
body { margin:0; font-family: 'Cormorant Garamond', serif; color:#F5E6B3; background:#1C1A33; background-attachment: fixed; }
.app{ min-height:100vh; position:relative; background-image:
  radial-gradient(1200px 600px at 10% -10%, rgba(245,230,179,0.08), transparent 70%),
  radial-gradient(1000px 500px at 90% 0%, rgba(197,181,255,0.10), transparent 70%),
  radial-gradient(700px 400px at 50% 100%, rgba(158,182,242,0.08), transparent 60%);
}
.app-header{ position:sticky; top:0; z-index:5; backdrop-filter: blur(12px); background: rgba(0,0,0,0.2); border-bottom:1px solid rgba(255,255,255,0.1); padding:10px 16px; display:flex; justify-content:space-between; align-items:center; }
.brand{ font-family:'Cinzel Decorative', serif; letter-spacing:.5px; }
.tag{ color: rgba(245,230,179,0.7); font-size: 14px; }
.container{ position:relative; max-width: 1000px; margin: 0 auto; padding: 32px 16px; }

#ambient{ position:absolute; inset:0; pointer-events:none; overflow:hidden; }
.blob{ position:absolute; filter: blur(60px); border-radius: 999px; opacity:.6; }
.blob.a{ width: 420px; height:420px; left:-80px; top:40px; background: radial-gradient(circle at 30% 30%, rgba(197,181,255,.35), rgba(158,182,242,.2)); animation: floatA 18s ease-in-out infinite; }
.blob.b{ width: 480px; height:480px; right:-120px; bottom:-60px; background: radial-gradient(circle at 50% 50%, rgba(245,230,179,.28), rgba(197,181,255,.2)); animation: floatB 22s ease-in-out infinite; }
@keyframes floatA{ 0%{ transform: translate(0,0)} 50%{ transform: translate(40px,-20px)} 100%{ transform: translate(0,0)} }
@keyframes floatB{ 0%{ transform: translate(0,0)} 50%{ transform: translate(-60px,30px)} 100%{ transform: translate(0,0)} }

.title{ font-family: 'Cinzel Decorative', serif; font-size: clamp(36px,5vw,56px); line-height:1.1; background: linear-gradient(90deg,#F5E6B3,#C5B5FF,#9EB6F2); -webkit-background-clip: text; background-clip: text; color: transparent; animation: shimmer 6s linear infinite; background-size: 200% 200%; letter-spacing: 0.02em; }
.subtitle{ color: rgba(245,230,179,0.8); }
@keyframes shimmer { 0% { background-position: 0% 50% } 100% { background-position: 100% 50% } }

.center{ text-align:center; }
.right{ text-align:right; }
.mt{ margin-top: 16px; }
.btn-row{ margin-top: 20px; display:flex; flex-wrap:wrap; gap:10px; justify-content:center; }
.btn{ display:inline-flex; align-items:center; justify-content:center; gap:8px; border-radius:12px; padding:10px 16px; font-weight:600; border:1px solid transparent; color:#1C1A33; transition: transform .1s ease, box-shadow .2s ease, background .2s ease, opacity .2s ease; }
.btn:disabled{ opacity:.6; }
.btn.loading{ pointer-events:none; }
.btn-primary{ background: linear-gradient(135deg,#F5E6B3,#C5B5FF 60%,#9EB6F2); box-shadow: 0 16px 44px -18px rgba(245,230,179,0.55); }
.btn-ghost{ border-color: rgba(255,255,255,0.15); color:#F5E6B3; background: rgba(255,255,255,0.04); }
.card{ border-radius: 16px; border:1px solid rgba(255,255,255,0.1); background: rgba(255,255,255,0.06); backdrop-filter: blur(18px); padding: 16px; box-shadow: 0 12px 40px rgba(0,0,0,0.25); }
.card.max{ max-width: 860px; margin: 0 auto; }
.input{ width:100%; border-radius: 12px; border:1px solid rgba(255,255,255,0.15); background: rgba(255,255,255,0.06); padding:10px 12px; color:#F5E6B3; }
.heading{ font-family:'Cinzel Decorative', serif; font-size: 26px; color:#F5E6B3; text-align:center; }
.label{ color: rgba(245,230,179,0.8); font-size:14px; margin-bottom:4px; }
.grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap:12px; margin-top: 10px; }
.grid3{ display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap:12px; margin-top: 10px; }
.row{ display:flex; gap:8px; align-items:center; }
.row.space{ justify-content: space-between; }
.muted{ color: rgba(245,230,179,0.7); font-size: 13px; }

.layout{ display:grid; grid-template-columns: 1fr 320px; gap:16px; align-items:start; }
@media (max-width: 860px){ .layout{ grid-template-columns: 1fr; } }
.room-title{ display:flex; align-items:center; gap:10px; font-family:'Cinzel Decorative', serif; font-size: 24px; color:#F5E6B3; }
.orb{ width: 24px; height:24px; border-radius:999px; background: radial-gradient(circle at 30% 30%, rgba(245,230,179,.7), rgba(197,181,255,.6)); box-shadow: 0 0 12px rgba(197,181,255,.7); animation: orb 3s ease-in-out infinite; }
@keyframes orb{ 0%{ transform: translateY(0)} 50%{ transform: translateY(-2px)} 100%{ transform: translateY(0)} }
.room-desc{ margin-top:8px; max-height: 320px; overflow:auto; padding-right: 6px; color: rgba(245,230,179,0.92); }
.prompt{ margin-top:8px; color: rgba(245,230,179,0.85); }
.reflect{ margin-top: 16px; }
.artifact{ border-radius: 12px; background: rgba(255,255,255,0.05); border:1px solid rgba(255,255,255,0.1); padding:10px; }

.modal{ position:fixed; inset:0; display:grid; place-items:center; background: rgba(0,0,0,0.55); z-index:10; padding:16px; }
.hidden{ display:none; }
