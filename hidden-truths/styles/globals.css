@tailwind base;
@tailwind components;
@tailwind utilities;

:root{
  --bg1: 14, 9, 35; /* indigo */
  --bg2: 49, 16, 73; /* violet */
}

html, body, #__next { height: 100%; }
body{
  @apply antialiased text-white font-sans;
  /* Gradient: #1B1733 → #3D2C78 → #9A62D8 */
  background: linear-gradient(140deg, #1B1733 0%, #3D2C78 55%, #9A62D8 100%);
}

.container{ @apply max-w-6xl mx-auto px-4 sm:px-6 lg:px-8; }

/* Sparkle background */
.sparkles{ position: fixed; inset:0; pointer-events:none; z-index:0; }
.sparkles::before, .sparkles::after{
  content:""; position:absolute; inset:0; background:
    radial-gradient(2px 2px at 10% 20%, rgba(255,223,128,.9), transparent 40%),
    radial-gradient(2px 2px at 30% 80%, rgba(255,223,128,.7), transparent 40%),
    radial-gradient(2px 2px at 70% 30%, rgba(255,223,128,.8), transparent 40%),
    radial-gradient(2px 2px at 85% 60%, rgba(255,223,128,.6), transparent 40%);
  animation: drift 18s linear infinite;
  opacity: .35;
}
.sparkles::after{ animation-direction: reverse; opacity:.25; filter: blur(1px); }
@keyframes drift{ from{ transform: translateY(0) } to{ transform: translateY(-10%) } }

/* Cards & controls */
.card{ @apply bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-5 sm:p-6 shadow-[0_10px_40px_-10px_rgba(0,0,0,0.6)]; }
.btn{ @apply inline-flex items-center justify-center gap-2 rounded-xl px-4 py-2 font-semibold transition-transform duration-150 active:scale-95; }
.btn-primary{ @apply btn text-indigo-950 bg-gradient-to-r from-[#f3d08a] to-[#ffdca8] text-[#432e67] hover:from-[#ffe29e] hover:to-[#ffecc2]; }
.btn-ghost{ @apply btn text-white/90 border border-white/40 hover:bg-white/10; }
.input{ @apply w-full px-3 py-2 rounded-xl border border-white/20 bg-white/10 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-[#f3d08a]; }
.textarea{ @apply input min-h-[120px]; }
.badge{ @apply inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold bg-white/10 border border-white/20; }

/* Title flourish */
.title{ @apply font-display tracking-wide; text-shadow: 0 2px 24px rgba(255,215,140,0.35); }
.subtitle{ @apply text-white/80; }

/* Fog reveal */
.fog{ position: relative; overflow: hidden; }
.fog::after{
  content:""; position:absolute; inset:-20% -10% auto -10%; height:60%;
  background: radial-gradient(60% 60% at 50% 50%, rgba(255,255,255,0.22), transparent 60%);
  filter: blur(18px); animation: fog 6s ease-in-out infinite;
}
@keyframes fog{ 0%,100%{ transform: translateX(-18%) } 50%{ transform: translateX(18%) } }

/* Guess table */
.truth{ @apply p-4 rounded-xl border border-white/15 bg-white/5; }
.truth-type{ @apply text-xs uppercase tracking-wide text-white/60; }

/* ELINITY */
.elinity-badge{ @apply inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/10 text-white text-sm tracking-wide shadow-lg border border-white/20; }
.elinity-dot{ @apply w-2.5 h-2.5 rounded-full bg-gradient-to-br from-[#f3d08a] to-[#ffdca8] animate-pulse; }

/* Ornaments and dividers */
.divider{ display:flex; align-items:center; gap:10px; opacity:.8; }
.divider::before, .divider::after{ content:""; height:1px; flex:1; background: linear-gradient(90deg, rgba(255,215,140,0), rgba(255,215,140,.5), rgba(255,215,140,0)); }
.ornament{ color:#f3d08a; letter-spacing:.12em; font-weight:600; }

/* Modal */
.modal-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.65); backdrop-filter: blur(3px); z-index:40; display:grid; place-items:center; padding: 1rem; }
.modal-card{ @apply bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-5 sm:p-6 shadow-[0_10px_40px_-10px_rgba(0,0,0,0.6)]; max-width: 680px; width:100%; }

/* Text accents */
.title-xl{ @apply font-display text-4xl sm:text-5xl font-extrabold; text-shadow: 0 2px 30px rgba(255,215,140,0.35); }
.oracle{ @apply italic text-white/85; }
.text-gold{ color: #f3d08a; }

/* Animations */
.fade-in{ animation: fadeIn 500ms ease both; }
@keyframes fadeIn{ from{ opacity:0; transform: translateY(6px) } to{ opacity:1; transform: translateY(0) } }

/* Reveal button subtle glow */
.btn-reveal{ position:relative; }
.btn-reveal::after{
  content:""; position:absolute; inset:-2px; border-radius:0.85rem; pointer-events:none; opacity:0.6;
  background: radial-gradient(60% 60% at 60% 40%, rgba(243,208,138,0.28), transparent 60%),
              radial-gradient(50% 50% at 30% 70%, rgba(255,255,255,0.12), transparent 60%);
  filter: blur(0.5px);
}

/* Truth card upgrade */
.truth{ background: rgba(64, 36, 112, 0.28); border-color: rgba(243,208,138,0.28); box-shadow: 0 10px 30px -14px rgba(0,0,0,0.5); transition: transform 200ms ease, box-shadow 200ms ease; }
.truth:hover{ transform: translateY(-2px); box-shadow: 0 18px 40px -18px rgba(243,208,138,0.35); }
.truth .truth-icon{ position:absolute; top:10px; right:12px; opacity:.9 }

/* Player tokens */
.tokens{ display:flex; flex-wrap: wrap; gap: 8px; }
.token{ display:inline-flex; align-items:center; gap:8px; padding: 8px 10px; border-radius: 9999px; border: 1px solid rgba(243,208,138,0.35); background: rgba(255,255,255,0.05); cursor: pointer; transition: transform 120ms ease, background 120ms ease, box-shadow 120ms ease; }
.token:hover{ transform: translateY(-1px); background: rgba(243,208,138,0.1); box-shadow: 0 6px 18px -10px rgba(243,208,138,0.4); }
.token.selected{ background: rgba(243,208,138,0.18); color: #1b1733; box-shadow: 0 8px 22px -12px rgba(243,208,138,0.6) inset, 0 10px 28px -16px rgba(243,208,138,0.4); }
.token .avatar{ font-size: 1rem; }

/* Button shimmer */
.btn-primary{ position:relative; overflow:hidden; }
.btn-primary::before{ content:""; position:absolute; inset:0; background: linear-gradient(120deg, transparent 0%, rgba(255,255,255,0.2) 40%, transparent 80%); transform: translateX(-120%); }
.btn-primary:hover::before{ transition: transform 600ms ease; transform: translateX(120%); }

/* Timer bar */
.timer{ height: 6px; border-radius: 9999px; background: rgba(255,255,255,0.1); overflow:hidden; }
.timer > span{ display:block; height:100%; background: linear-gradient(90deg, #f3d08a, #ffdca8); box-shadow: 0 0 12px rgba(243,208,138,0.6); }
