@tailwind base;
@tailwind components;
@tailwind utilities;

:root { color-scheme: dark; }
html, body, #__next { height: 100%; }
body { background: #0d0a1a; color: #e5e7eb; font-family: 'Playfair Display', serif; }

.app-bg { position: fixed; inset: 0; background: theme('backgroundImage.veil'); pointer-events: none; }
.aurora { position: fixed; inset: -20% -10%; background: conic-gradient(from 120deg at 30% 20%, rgba(240,198,116,.08), transparent 40%, rgba(107,79,163,.10), transparent 70%); filter: blur(40px); opacity:.7; animation: floaty 10s ease-in-out infinite; pointer-events: none; }
.motes { position: fixed; inset: 0; background-image: radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.08) 50%, transparent 50%), radial-gradient(2px 2px at 70% 60%, rgba(255,255,255,.05) 50%, transparent 50%), radial-gradient(1px 1px at 40% 80%, rgba(255,255,255,.06) 50%, transparent 50%); background-size: 300px 300px, 260px 260px, 220px 220px; animation: motes 14s linear infinite; opacity:.6; pointer-events: none; }

/* Rotating sigil ring */
.sigils { position: fixed; inset: 0; display:grid; place-items:center; pointer-events: none; opacity:.35; }
.sigils::before{ content:""; width: 60vmin; height: 60vmin; border-radius: 9999px; border: 1px dashed rgba(203,213,225,.25); box-shadow: 0 0 60px rgba(107,79,163,.25) inset; animation: spin 42s linear infinite; }
.sigils::after{ content:""; width: 36vmin; height: 36vmin; border-radius: 9999px; border: 1px solid rgba(240,198,116,.18); filter: drop-shadow(0 0 16px rgba(240,198,116,.2)); animation: spinReverse 28s linear infinite; }

.panel { @apply bg-white/5 backdrop-blur-xl border border-white/10 rounded-xl shadow-rune; }
.btn { @apply inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 transition-colors shadow-rune; }
.btn-gold { @apply btn; background: linear-gradient(90deg, #f0c674, #cbd5e1); color: #1a1333; }

/* Primary action button with glow */
.btn-primary { @apply inline-flex items-center gap-2 px-5 py-2.5 rounded-xl border border-white/10 transition-all; background: linear-gradient(90deg, rgba(107,79,163,.35), rgba(240,198,116,.35)); box-shadow: 0 8px 28px rgba(107,79,163,.25), 0 0 0 1px rgba(203,213,225,.15) inset; }
.btn-primary:hover { box-shadow: 0 12px 36px rgba(240,198,116,.35), 0 0 0 1px rgba(203,213,225,.25) inset; }

.brand { letter-spacing: .04em; }

/* Runic choice button */
.rune { @apply px-4 py-3 rounded-xl border border-white/15 bg-white/5 hover:bg-white/10 transition-colors; box-shadow: 0 0 0 1px rgba(203,213,225,.15), 0 8px 28px rgba(107,79,163,.25); position:relative; overflow:hidden; }
.rune::after { content:""; position:absolute; inset:auto -20% 0 -20%; height:2px; background: linear-gradient(90deg, transparent, rgba(240,198,116,.6), transparent); opacity:0; transition: opacity .2s ease; }
.rune:hover::after { opacity:1; }

/* Scene card */
.scene { @apply panel; background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.03)); position:relative; }
.scene::before { content:""; position:absolute; inset:-1px; border-radius:inherit; padding:1px; background: linear-gradient(180deg, rgba(240,198,116,.3), rgba(107,79,163,.25)); -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); -webkit-mask-composite: xor; mask-composite: exclude; pointer-events:none; }
.scene h2 { @apply text-xl font-semibold mb-2; }
.scene p { @apply text-white/85 leading-relaxed; }

/* Outcome */
.outcome { @apply p-4 rounded-lg border border-white/10 bg-white/5; animation: fadeIn .3s ease-out both; }

/* Ripple effect on choose */
.ripple { position: absolute; border-radius: 9999px; border: 2px solid rgba(240,198,116,.4); inset: 0; margin: auto; height: 40px; width: 40px; animation: ripple .9s ease-out; }

/* Oracle avatar orb */
.oracle-orb { width:56px; height:56px; border-radius:9999px; background: radial-gradient(circle at 30% 30%, #6b4fa3, #f0c674 60%, rgba(255,255,255,.75) 70%); box-shadow: 0 0 28px rgba(240,198,116,.22), 0 0 0 1px rgba(203,213,225,.18) inset; animation: floaty 5s ease-in-out infinite; }

/* Progress bar */
.progress { height: 8px; border-radius: 9999px; background: rgba(255,255,255,.06); overflow: hidden; }
.progress > span { display:block; height:100%; background: linear-gradient(90deg, rgba(107,79,163,.6), rgba(240,198,116,.6)); box-shadow: 0 0 12px rgba(240,198,116,.25); transition: width .35s ease; }

@keyframes spin { to { transform: rotate(360deg); } }
@keyframes spinReverse { to { transform: rotate(-360deg); } }
